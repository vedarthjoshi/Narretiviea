<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet">
    <title>Library</title>
    <link rel="stylesheet" href="../static/css/library.css">
</head>

<body>
    
    <div class="con">
        <input type="checkbox" name="theme" id="check">
        <label for="check" class="toggle"></label>
    </div>

    <nav class="navigator">
		<a href="/"><i class='bx bxs-home'></i> Home </a> 
		<!-- Home -->
		<a href="/"><i class='bx bx-cube-alt'></i> About </a>
		<!-- About -->		
	</nav>

    <h1 class="heading"><i class='bx bx-book-alt'></i>Library<i class='bx bx-book-alt'></i></h1>
    <div id="library">
        {% for book in books %}
        <div class="book-item">
            <h3>{{ book.title }}</h3>
            <p>Author: {{ book.author }}</p>
            <p>Rating: {{ book.rating }} ‚≠ê</p>
            <button onclick="window.location.href='/book/{{ book._id }}'"><i class='bx bx-book-alt'></i>Read</button>
        </div>
        {% endfor %}
    </div>
    <script>
        let darkmode = localStorage.getItem('darkmode')
        const themeswitch = document.getElementById('check')

        const enableDarkmode = () => {
            // document.querySelector(".toggle").style.backgroundColor = "#710071"
            // document.querySelector(".icon").src = "../static/images/iconwhite.png"
            // document.getElementById("ol").querySelector("path").style.fill = '#664a5e';
            document.body.classList.add('darkmode')
            localStorage.setItem('darkmode', 'active')
        }

        const disableDarkmode = () => {
            // document.querySelector(".toggle").style.backgroundColor = "wheat"
            // document.querySelector(".icon").src = "../static/images/icon.png"
            // document.getElementById("ol").querySelector("path").style.fill = 'black';
            document.body.classList.remove('darkmode')
            localStorage.setItem('darkmode', 'null')
        }

        if (darkmode === 'active') enableDarkmode()

        themeswitch.addEventListener("click", () => {
            darkmode = localStorage.getItem('darkmode')
            darkmode !== "active" ? enableDarkmode() : disableDarkmode()
        })
    </script>
</body>

</html>